# vim: ft=muttrc
macro index ,i  "<change-folder>!<enter>" "go to inbox"
macro index ,p  "<pipe-message>cat > ~/"  "save message as"
macro index <space> "<collapse-thread>"   "[un]collapse thread"
macro index \Cr "<tag-prefix><clear-flag>N" "mark tagged messages as read"
macro index \CR "T~U<enter><tag-prefix><clear-flag>N<untag-pattern>.<enter>" "mark all messages as read"
macro attach 'V' "<pipe-entry>cat >~/.cache/mutt/mail.html && $BROWSER ~/.cache/mutt/mail.html && rm ~/.cache/mutt/mail.html<enter>"

macro index ,u \
"<enter-command>set my_old_pipe_decode=\$pipe_decode nopipe_decode<enter>\
<pipe-message>ghu<enter><delete-thread>\
<enter-command>set pipe_decode=\$my_old_pipe_decode<enter>" \
"unsubscribe from any email with a List-Unsubscribe header"

macro index,pager a '<pipe-message>abook --add-email-quiet<return>' "add this sender to abook"

macro pager \cb 'urlview' 'Follow links with urlview'
