#/bin/bash

#A simple popup showing network information

PUBLIC_IP=$(curl http://dynupdate.no-ip.com/ip.php)
PRIVATE_IP=$(ip route get 8.8.8.8 | head -1 | cut -d' ' -f8)

(
 echo "Network Information" # Fist line goes to title
# The following lines go to slave window
 echo "Public IP: $PUBLIC_IP "
 echo "Private IP: $PRIVATE_IP "
 ) | dzen2 -p -x "1000" -y "20" -w "220" -l "5" -sa 'l' -ta 'c'\
    -title-name 'popup_netinfo' -e 'onstart=uncollapse;button1=exit;button3=exit'

# "onstart=uncollapse" ensures that slave window is visible from start.
